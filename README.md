# 2048 游戏 - Windows 桌面版

一个基于 C++ 和 Win32 API 开发的经典 2048 游戏桌面版本。

## 项目简介

这是一个使用原生 Win32 API 和 GDI 图形接口实现的 2048 游戏，具有完整的游戏功能和用户界面。代码采用了现代 C++ 编程实践，包括 RAII 资源管理和异常安全处理。

## 功能特性

### 游戏功能
- ✅ 完整的 2048 游戏逻辑
- ✅ 方向键和 WASD 控制
- ✅ 分数统计系统
- ✅ 游戏胜利/失败判定
- ✅ 随机方块生成（90% 概率生成 2，10% 概率生成 4）

### 用户界面
- ✅ 美观的游戏棋盘绘制
- ✅ 不同数字的彩色方块
- ✅ 自适应字体大小
- ✅ 游戏状态提示（胜利/失败）

### 数据管理
- ✅ 游戏进度保存/加载
- ✅ 文件校验和验证
- ✅ 自动备份文件名生成
- ✅ 游戏状态完整性检查

### 额外功能
- ✅ 新游戏按钮
- ✅ 关于对话框
- ✅ 编译时间显示
- ✅ 异常处理和错误提示

## 编译说明

### 环境要求
- Windows 操作系统
- Visual Studio 或 MinGW 编译器
- 支持 C++11 标准的编译器

### 编译命令
```bash
# 使用 g++ 编译
g++ -std=c++11 -O2 -mwindows main.cxx -o 2048.exe -lcomctl32 -lgdi32

# 或者使用 Visual Studio 开发者命令提示符
cl /EHsc /O2 main.cxx comctl32.lib gdi32.lib user32.lib
```

## 运行说明

1. 直接运行 `2048.exe` 可执行文件
2. 使用方向键或 WASD 键移动方块
3. 相同数字的方块碰撞时会合并为它们的和
4. 目标是创建 2048 方块！

### 控制方式
- **方向键** 或 **WASD**：移动方块
- **新游戏**：重新开始游戏
- **保存**：保存当前游戏进度
- **加载**：从文件加载游戏进度
- **关于**：查看游戏信息
- **退出**：关闭游戏

## 文件格式

游戏保存文件使用自定义二进制格式：
- 文件头：`2048SAVE`
- 版本号：1
- 游戏状态数据
- CRC32 校验和

## 项目结构

```
main.cxx          # 主程序文件，包含所有游戏逻辑和界面代码
```

## 技术特点

- **RAII 资源管理**：自动管理 GDI 对象生命周期
- **异常安全**：全面的错误处理和异常捕获
- **代码优化**：使用现代 C++ 特性和算法
- **内存安全**：智能指针和安全的资源管理
- **用户友好**：完整的中文界面和提示信息

## 作者信息

- **作者**：快速的飓风
- **编译时间**：在程序标题栏显示具体的编译时间戳

## 许可证

本项目仅用于学习和演示目的。2048 游戏原版由 Gabriele Cirulli 创建。

---

**享受游戏的乐趣！** 🎮
